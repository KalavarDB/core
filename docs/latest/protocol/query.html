<!DOCTYPE html>
<html>
<head>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<style>html{background-color:#282a36;scroll-behavior:smooth;width:100%;height:100%}.container{margin:2em 4em}body{padding:20px;color:#fff;font-size:15px;font-family:"Lucida Grande","Lucida Sans Unicode","Lucida Sans",AppleSDGothicNeo-Medium,'Segoe UI','Malgun Gothic',Verdana,Tahoma,sans-serif;-webkit-font-smoothing:antialiased}a{color:#b97ec4}a:hover{color:#8bb156}h2{border-bottom:1px solid #21232d;line-height:1.7em}h6{color:#a4a296}hr{border:1px solid #21232d}pre>code{font-size:.9em;font-family:Consolas,Inconsolata,Courier,monospace}blockquote{border-left:4px solid #121319;padding:0 15px;font-style:italic}img{max-width:100%}table{width:100%;margin:0;border:.2em solid #4b4e65;border-radius:.4em;background-color:#333442}table tr td,table tr th{padding:1em}table tr:nth-child(2n){background-color:#494d63}.hljs-comment,.hljs-quote{color:#8d8687}.hljs-link,.hljs-meta,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ef6155}.hljs-built_in,.hljs-builtin-name,.hljs-deletion,.hljs-literal,.hljs-number,.hljs-params,.hljs-type{color:#f99b15}.hljs-attribute,.hljs-section,.hljs-title{color:#fec418}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#48b685}.hljs-keyword,.hljs-selector-tag{color:#815ba4}.hljs{display:block;overflow-x:auto;background:#1e2029;color:#a39e9b;padding:.5em;border-radius:.2em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div class="container">
<blockquote>
<h2><a href=".html#️-warning-️"></a>⚠️ Warning ⚠️</h2>
<h4><a href=".html#the-documentation-you-are-reading-is-neither-implemented-nor-finalised-please-do-not-begin-an-inplementation-of-the-protocol-until-this-message-has-been-removed-thank-you"></a>The documentation you are reading is neither implemented, nor finalised. please do not begin an inplementation of the protocol until this message has been removed. Thank you.</h4>
</blockquote>
<h1><a href=".html#operation-documentation"></a>Operation Documentation</h1>
<h3><a href=".html#table-of-contents"></a>Table of Contents</h3>
<ul>
<li><a href=".html#get">GET</a></li>
<li><a href=".html#prune">PRUNE</a></li>
<li><a href=".html#insert">INSERT</a></li>
<li><a href=".html#modify">MODIFY</a></li>
<li><a href=".html#responses">Responses</a></li>
</ul>
<h2><a href=".html#get"></a>Get</h2>
<p>In order to query values from a given database/table, the following example query should be used as reference. All fields in this query are required:</p>
<pre><code>GET my_database.A
FIELDS: &quot;name&quot;, &quot;email&quot;, &quot;pass&quot;
</code></pre>
<h4><a href=".html#joins"></a>Joins</h4>
<p>With the internal query protocol for kalavar, there are four types of join to choose from, <code>Inner</code>, <code>Outer</code> (<code>Full</code>), <code>Left</code>, and <code>Right</code>. The differences between these join types will be explained below.</p>
<p><strong>Inner join</strong> returns all rows matching the filter criteria, where the row in table <code>A</code>, has a partnering row in table <code>B</code>.
An inner join is represented by the presence of 2 <code>FIELDS</code> keys, and an <code>I-JOIN</code> key</p>
<pre><code>GET my_database.A
FIELDS: &quot;name&quot;, &quot;email&quot;, &quot;pass&quot;
I-JOIN my_database.B
FIELDS: &quot;banned&quot;, &quot;two_factor&quot;, &quot;admin&quot;
</code></pre>
<p><strong>Left join</strong> returns all rows matching the filter criteria, from table <code>A</code>, as well as a partner row from table <code>B</code> if available.
A left join is represented by the presence of 2 <code>FIELDS</code> keys, and an <code>L-JOIN</code> key</p>
<pre><code>GET my_database.A
FIELDS: &quot;name&quot;, &quot;email&quot;, &quot;pass&quot;
L-JOIN my_database.B
FIELDS: &quot;banned&quot;, &quot;two_factor&quot;, &quot;admin&quot;
</code></pre>
<p><strong>Right join</strong> returns all rows matching the filter criteria, from table <code>B</code>, as well as a partner row from table <code>A</code> if available.
A right join is represented by the presence of 2 <code>FIELDS</code> keys, and an <code>R-JOIN</code> key</p>
<pre><code>GET my_database.A
FIELDS: &quot;name&quot;, &quot;email&quot;, &quot;pass&quot;
R-JOIN my_database.B
FIELDS: &quot;banned&quot;, &quot;two_factor&quot;, &quot;admin&quot;
</code></pre>
<p><strong>Outer/Full join</strong> returns all rows, regardless of if the row in table <code>A</code>, has a partnering row in table <code>B</code>.
An outer/full join is represented by the presence of 2 <code>FIELDS</code> keys, and an <code>O-JOIN</code> key</p>
<pre><code>GET my_database.A
FIELDS: &quot;name&quot;, &quot;email&quot;, &quot;pass&quot;
O-JOIN my_database.B
FIELDS: &quot;banned&quot;, &quot;two_factor&quot;, &quot;admin&quot;
</code></pre>
<h2><a href=".html#prune"></a>Prune</h2>
<p>In order to remove values from table, the client must send a <code>PRUNE</code> query, a type of query which allows the client to specify the type of logic matching they wish to achieve. The filters are always prepended with a number, matching them to any paired logical operations (see below example for further clarification).</p>
<pre><code>PRUNE my_database.A
FILTERS: 1:&quot;name&quot;==&quot;John Doe&quot;
AND 1:&quot;pass&quot;==&quot;abc123&quot;
OR 2:&quot;pass&quot;==NUll
</code></pre>
<h2><a href=".html#insert"></a>Insert</h2>
<p>When the client wishes to insert values into a table, the following fields must be present, <code>FIELDS</code>, <code>VALUES</code></p>
<pre><code>INSERT my_database.A
FIELDS: &quot;name&quot;, &quot;email&quot;, &quot;pass&quot;
VALUES: &quot;John Doe&quot;, &quot;email@provider.tld&quot;, &quot;abc123&quot;
&quot;John Doe&quot;, &quot;email@provider.tld&quot;, &quot;abc123&quot;
&quot;John Doe&quot;, &quot;email@provider.tld&quot;, &quot;abc123&quot;
</code></pre>
<h2><a href=".html#modify"></a>Modify</h2>
<p>Should the client wish to update the values of a table:</p>
<pre><code>MODIFY my_database.A
FILTERS: &quot;name&quot;==&quot;John Doe&quot;
&quot;pass&quot;==&quot;abc123&quot;
LOGIC: AND/OR
VALUES: &quot;abc122&quot;, &quot;abc133&quot;, &quot;abc321&quot;
</code></pre>
<h2><a href=".html#responses"></a>Responses</h2>
<h3><a href=".html#phase-1"></a>Phase 1:</h3>
<blockquote>
<p>Sent immeditately after receiveing and parsing a query. contains two fields<br>
<code>SNOWFLAKE</code> - (Always present) The <code>QueryID</code>. __KEEP THIS STORED__<br>
<code>POSITION</code> - (Nullable) The (estimated) position in the query queue. This is not a guarantee, and should not be used for tracking query information.</p>
</blockquote>
<pre><code>SNOWFLAKE: 882b46ec
POSITION: 10
</code></pre>
<p>Example with <code>NULL</code> position:</p>
<pre><code>SNOWFLAKE: 882b46ec
POSITION: NULL
</code></pre>
<h3><a href=".html#phase-2"></a>Phase 2:</h3>
<blockquote>
<p>Sent once the query has been processed, clients are expected to recognise a <code>QueryID</code> and return the data for the correct request accordingly.</p>
</blockquote>
<pre><code>RESPONSE &lt;query ID&gt;
COLUMNS: &quot;name&quot;:&quot;type&quot;
&quot;name&quot;:&quot;type&quot;
&quot;name&quot;:&quot;type&quot;
ROWS: John Doe|email@provider.tld|abc123
John Doe|email@provider.tld|abc123
John Doe|email@provider.tld|abc123
John Doe|email@provider.tld|abc123
John Doe|email@provider.tld|abc123
</code></pre>
<p><a href="authhtml">Previous</a></p>
<p><a href="data-typeshtml">Next</a></p>

</div>
<div style="text-align: center; padding: 1em; color: #aaa"><h4>Powered by <a href="https://github.com/fatalcenturion/Iridium">Iridium</a><h4></div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
	    document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(element => {
		    element.innerHTML += `<div class="anchor" style="display:none;" id="${(element.innerText.toLowerCase().replace(/[^\w]/gmi, "")).split(" ").join("-")}">Anchor point</div>`;
		    element.children[0].onclick = () => {let em = document.getElementById(window.location.hash.split(/#|\?[^\s]*/g).join("")); console.log(`Navigating to: ${window.location.hash.split(/#|\?[^\s]*/g).join("")}`); if(em !== null && em !== undefined) em.parentElement.scrollIntoView({ behavior: 'instant', block: 'start' })}
		    })
	let em = document.getElementById(window.location.hash.replace(/#|\?[^\s]*/g, ""));
	console.log(`Navigating to: ${window.location.hash.replace(/#|\?[^\s]*/g, "")}`);
	if(em !== null && em !== undefined) em.parentElement.scrollIntoView({ behavior: 'instant', block: 'start' })
}, false);</script></body>
<html>